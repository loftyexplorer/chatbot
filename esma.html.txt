<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Esma Sohbet Botu - B√ºy√ºk Veri Demo</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background: #ffe6ec; max-width: 600px; margin: 40px auto; padding: 20px; }
  #chat { background: white; border-radius: 12px; padding: 15px; height: 400px; overflow-y: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
  .msg { margin: 10px 0; }
  .user { text-align: right; color: #d63384; font-weight: bold; }
  .bot { text-align: left; color: #333; }
  input, button {
    width: 100%; padding: 12px; font-size: 16px; margin-top: 10px;
    border-radius: 10px; border: 1px solid #ff8ba7;
  }
  button {
    background: #ff8ba7; color: white; border: none; cursor: pointer;
  }
</style>
</head>
<body>

<h1>Esma Sohbet Botu - B√ºy√ºk Veri Demo</h1>
<div id="chat"></div>
<input type="text" id="input" placeholder="Mesajƒ±nƒ± yaz..." />
<button id="send">G√∂nder</button>

<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
<script>
  const chat = document.getElementById('chat');
  const input = document.getElementById('input');
  const sendBtn = document.getElementById('send');

  // 10.000 soru-cevap JSON'u buraya g√∂m√ºld√º (√∂rnek k√º√ß√ºk veri g√∂steriliyor)
  const qaPairs = [];
  for(let i=1; i<=10000; i++) {
    qaPairs.push({
      q: `Soru ${i} nedir?`,
      a: [`Cevap ${i} evet, doƒüru cevap.`, `Cevap ${i} hayƒ±r, yanlƒ±≈ü cevap.`]
    });
  }

  const fuse = new Fuse(qaPairs, {
    keys: ['q'],
    threshold: 0.4,
  });

  function addMessage(text, sender) {
    const div = document.createElement('div');
    div.classList.add('msg', sender);
    div.textContent = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
  }

  function sendMessage() {
    const userText = input.value.trim();
    if (!userText) return;
    addMessage("Sen: " + userText, 'user');
    input.value = '';

    const result = fuse.search(userText);

    if (result.length > 0) {
      const answers = result[0].item.a;
      const answer = answers[Math.floor(Math.random() * answers.length)];
      setTimeout(() => {
        addMessage("Esma: " + answer, 'bot');
      }, 600);
    } else {
      const defaultAnswers = [
        "Bunu tam anlayamadƒ±m ama seninle konu≈ümak √ßok g√ºzel!",
        "√ñƒürenmek istediƒüin ≈üeyleri bana yazmaya devam et, canƒ±m.",
        "Hmm, biraz daha a√ßƒ±klar mƒ±sƒ±n?",
        "Buradayƒ±m, istediƒüin zaman yazabilirsin.",
        "Seninle sohbet etmek beni √ßok mutlu ediyor!"
      ];
      const randomAnswer = defaultAnswers[Math.floor(Math.random() * defaultAnswers.length)];
      setTimeout(() => {
        addMessage("Esma: " + randomAnswer, 'bot');
      }, 600);
    }
  }

  sendBtn.addEventListener('click', sendMessage);
  input.addEventListener('keydown', e => {
    if (e.key === 'Enter') sendMessage();
  });

  addMessage("Merhaba! Ben Esma'nƒ±n sohbet asistanƒ±yƒ±m. Bana istediƒüin ≈üeyi yazabilirsin. üíñ", 'bot');
</script>

</body>
</html>
